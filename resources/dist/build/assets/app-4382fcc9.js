function Pt(e,t){return function(){return e.apply(t,arguments)}}const{toString:oe}=Object.prototype,{getPrototypeOf:dt}=Object,X=(e=>t=>{const n=oe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),S=e=>(e=e.toLowerCase(),t=>X(t)===e),G=e=>t=>typeof t===e,{isArray:B}=Array,U=G("undefined");function ae(e){return e!==null&&!U(e)&&e.constructor!==null&&!U(e.constructor)&&v(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Lt=S("ArrayBuffer");function ie(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Lt(e.buffer),t}const le=G("string"),v=G("function"),Mt=G("number"),Y=e=>e!==null&&typeof e=="object",ce=e=>e===!0||e===!1,H=e=>{if(X(e)!=="object")return!1;const t=dt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ue=S("Date"),de=S("File"),fe=S("Blob"),pe=S("FileList"),he=e=>Y(e)&&v(e.pipe),me=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||v(e.append)&&((t=X(e))==="formdata"||t==="object"&&v(e.toString)&&e.toString()==="[object FormData]"))},be=S("URLSearchParams"),[ye,we,ge,_e]=["ReadableStream","Request","Response","Headers"].map(S),Ee=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),B(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let l;for(r=0;r<a;r++)l=o[r],t.call(null,e[l],l,e)}}function Nt(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const L=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ft=e=>!U(e)&&e!==L;function ot(){const{caseless:e}=Ft(this)&&this||{},t={},n=(r,s)=>{const o=e&&Nt(t,s)||s;H(t[o])&&H(r)?t[o]=ot(t[o],r):H(r)?t[o]=ot({},r):B(r)?t[o]=r.slice():t[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&$(arguments[r],n);return t}const Ce=(e,t,n,{allOwnKeys:r}={})=>($(t,(s,o)=>{n&&v(s)?e[o]=Pt(s,n):e[o]=s},{allOwnKeys:r}),e),Te=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Re=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},ve=(e,t,n,r)=>{let s,o,a;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)a=s[o],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&dt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},xe=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Se=e=>{if(!e)return null;if(B(e))return e;let t=e.length;if(!Mt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ke=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&dt(Uint8Array)),Ae=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},Oe=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Pe=S("HTMLFormElement"),Le=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),wt=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Me=S("RegExp"),Bt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};$(n,(s,o)=>{let a;(a=t(s,o,e))!==!1&&(r[o]=a||s)}),Object.defineProperties(e,r)},Ne=e=>{Bt(e,(t,n)=>{if(v(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(v(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Fe=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return B(e)?r(e):r(String(e).split(t)),n},Be=()=>{},De=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ie(e){return!!(e&&v(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Ue=e=>{const t=new Array(10),n=(r,s)=>{if(Y(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const o=B(r)?[]:{};return $(r,(a,l)=>{const d=n(a,s+1);!U(d)&&(o[l]=d)}),t[s]=void 0,o}}return r};return n(e,0)},$e=S("AsyncFunction"),je=e=>e&&(Y(e)||v(e))&&v(e.then)&&v(e.catch),Dt=((e,t)=>e?setImmediate:t?((n,r)=>(L.addEventListener("message",({source:s,data:o})=>{s===L&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),L.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",v(L.postMessage)),He=typeof queueMicrotask<"u"?queueMicrotask.bind(L):typeof process<"u"&&process.nextTick||Dt,i={isArray:B,isArrayBuffer:Lt,isBuffer:ae,isFormData:me,isArrayBufferView:ie,isString:le,isNumber:Mt,isBoolean:ce,isObject:Y,isPlainObject:H,isReadableStream:ye,isRequest:we,isResponse:ge,isHeaders:_e,isUndefined:U,isDate:ue,isFile:de,isBlob:fe,isRegExp:Me,isFunction:v,isStream:he,isURLSearchParams:be,isTypedArray:ke,isFileList:pe,forEach:$,merge:ot,extend:Ce,trim:Ee,stripBOM:Te,inherits:Re,toFlatObject:ve,kindOf:X,kindOfTest:S,endsWith:xe,toArray:Se,forEachEntry:Ae,matchAll:Oe,isHTMLForm:Pe,hasOwnProperty:wt,hasOwnProp:wt,reduceDescriptors:Bt,freezeMethods:Ne,toObjectSet:Fe,toCamelCase:Le,noop:Be,toFiniteNumber:De,findKey:Nt,global:L,isContextDefined:Ft,isSpecCompliantForm:Ie,toJSONObject:Ue,isAsyncFn:$e,isThenable:je,setImmediate:Dt,asap:He};function m(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}i.inherits(m,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:i.toJSONObject(this.config),code:this.code,status:this.status}}});const It=m.prototype,Ut={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ut[e]={value:e}});Object.defineProperties(m,Ut);Object.defineProperty(It,"isAxiosError",{value:!0});m.from=(e,t,n,r,s,o)=>{const a=Object.create(It);return i.toFlatObject(e,a,function(d){return d!==Error.prototype},l=>l!=="isAxiosError"),m.call(a,e.message,t,n,r,s),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const We=null;function at(e){return i.isPlainObject(e)||i.isArray(e)}function $t(e){return i.endsWith(e,"[]")?e.slice(0,-2):e}function gt(e,t,n){return e?e.concat(t).map(function(s,o){return s=$t(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function qe(e){return i.isArray(e)&&!e.some(at)}const Ve=i.toFlatObject(i,{},null,function(t){return/^is[A-Z]/.test(t)});function Z(e,t,n){if(!i.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=i.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,h){return!i.isUndefined(h[b])});const r=n.metaTokens,s=n.visitor||u,o=n.dots,a=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&i.isSpecCompliantForm(t);if(!i.isFunction(s))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(i.isDate(p))return p.toISOString();if(!d&&i.isBlob(p))throw new m("Blob is not supported. Use a Buffer instead.");return i.isArrayBuffer(p)||i.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,b,h){let g=p;if(p&&!h&&typeof p=="object"){if(i.endsWith(b,"{}"))b=r?b:b.slice(0,-2),p=JSON.stringify(p);else if(i.isArray(p)&&qe(p)||(i.isFileList(p)||i.endsWith(b,"[]"))&&(g=i.toArray(p)))return b=$t(b),g.forEach(function(C,A){!(i.isUndefined(C)||C===null)&&t.append(a===!0?gt([b],A,o):a===null?b:b+"[]",c(C))}),!1}return at(p)?!0:(t.append(gt(h,b,o),c(p)),!1)}const f=[],y=Object.assign(Ve,{defaultVisitor:u,convertValue:c,isVisitable:at});function w(p,b){if(!i.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(p),i.forEach(p,function(g,E){(!(i.isUndefined(g)||g===null)&&s.call(t,g,i.isString(E)?E.trim():E,b,y))===!0&&w(g,b?b.concat(E):[E])}),f.pop()}}if(!i.isObject(e))throw new TypeError("data must be an object");return w(e),t}function _t(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function ft(e,t){this._pairs=[],e&&Z(e,this,t)}const jt=ft.prototype;jt.append=function(t,n){this._pairs.push([t,n])};jt.toString=function(t){const n=t?function(r){return t.call(this,r,_t)}:_t;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function ze(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ht(e,t,n){if(!t)return e;const r=n&&n.encode||ze;i.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=i.isURLSearchParams(t)?t.toString():new ft(t,n).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Je{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){i.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Et=Je,Wt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ke=typeof URLSearchParams<"u"?URLSearchParams:ft,Xe=typeof FormData<"u"?FormData:null,Ge=typeof Blob<"u"?Blob:null,Ye={isBrowser:!0,classes:{URLSearchParams:Ke,FormData:Xe,Blob:Ge},protocols:["http","https","file","blob","url","data"]},pt=typeof window<"u"&&typeof document<"u",it=typeof navigator=="object"&&navigator||void 0,Ze=pt&&(!it||["ReactNative","NativeScript","NS"].indexOf(it.product)<0),Qe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),tn=pt&&window.location.href||"http://localhost",en=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pt,hasStandardBrowserEnv:Ze,hasStandardBrowserWebWorkerEnv:Qe,navigator:it,origin:tn},Symbol.toStringTag,{value:"Module"})),T={...en,...Ye};function nn(e,t){return Z(e,new T.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return T.isNode&&i.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function rn(e){return i.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sn(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function qt(e){function t(n,r,s,o){let a=n[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),d=o>=n.length;return a=!a&&i.isArray(s)?s.length:a,d?(i.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!i.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],o)&&i.isArray(s[a])&&(s[a]=sn(s[a])),!l)}if(i.isFormData(e)&&i.isFunction(e.entries)){const n={};return i.forEachEntry(e,(r,s)=>{t(rn(r),s,n,0)}),n}return null}function on(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ht={transitional:Wt,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=i.isObject(t);if(o&&i.isHTMLForm(t)&&(t=new FormData(t)),i.isFormData(t))return s?JSON.stringify(qt(t)):t;if(i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)||i.isReadableStream(t))return t;if(i.isArrayBufferView(t))return t.buffer;if(i.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return nn(t,this.formSerializer).toString();if((l=i.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Z(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),on(t)):t}],transformResponse:[function(t){const n=this.transitional||ht.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(i.isResponse(t)||i.isReadableStream(t))return t;if(t&&i.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?m.from(l,m.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:T.classes.FormData,Blob:T.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};i.forEach(["delete","get","head","post","put","patch"],e=>{ht.headers[e]={}});const mt=ht,an=i.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ln=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&an[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Ct=Symbol("internals");function I(e){return e&&String(e).trim().toLowerCase()}function W(e){return e===!1||e==null?e:i.isArray(e)?e.map(W):String(e)}function cn(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const un=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function nt(e,t,n,r,s){if(i.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!i.isString(t)){if(i.isString(r))return t.indexOf(r)!==-1;if(i.isRegExp(r))return r.test(t)}}function dn(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function fn(e,t){const n=i.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,a){return this[r].call(this,t,s,o,a)},configurable:!0})})}class Q{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(l,d,c){const u=I(d);if(!u)throw new Error("header name must be a non-empty string");const f=i.findKey(s,u);(!f||s[f]===void 0||c===!0||c===void 0&&s[f]!==!1)&&(s[f||d]=W(l))}const a=(l,d)=>i.forEach(l,(c,u)=>o(c,u,d));if(i.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(i.isString(t)&&(t=t.trim())&&!un(t))a(ln(t),n);else if(i.isHeaders(t))for(const[l,d]of t.entries())o(d,l,r);else t!=null&&o(n,t,r);return this}get(t,n){if(t=I(t),t){const r=i.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return cn(s);if(i.isFunction(n))return n.call(this,s,r);if(i.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=I(t),t){const r=i.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||nt(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(a){if(a=I(a),a){const l=i.findKey(r,a);l&&(!n||nt(r,r[l],l,n))&&(delete r[l],s=!0)}}return i.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||nt(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return i.forEach(this,(s,o)=>{const a=i.findKey(r,o);if(a){n[a]=W(s),delete n[o];return}const l=t?dn(o):String(o).trim();l!==o&&delete n[o],n[l]=W(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return i.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&i.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Ct]=this[Ct]={accessors:{}}).accessors,s=this.prototype;function o(a){const l=I(a);r[l]||(fn(s,a),r[l]=!0)}return i.isArray(t)?t.forEach(o):o(t),this}}Q.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);i.reduceDescriptors(Q.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});i.freezeMethods(Q);const x=Q;function rt(e,t){const n=this||mt,r=t||n,s=x.from(r.headers);let o=r.data;return i.forEach(e,function(l){o=l.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function Vt(e){return!!(e&&e.__CANCEL__)}function D(e,t,n){m.call(this,e??"canceled",m.ERR_CANCELED,t,n),this.name="CanceledError"}i.inherits(D,m,{__CANCEL__:!0});function zt(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new m("Request failed with status code "+n.status,[m.ERR_BAD_REQUEST,m.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function pn(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function hn(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,a;return t=t!==void 0?t:1e3,function(d){const c=Date.now(),u=r[o];a||(a=c),n[s]=d,r[s]=c;let f=o,y=0;for(;f!==s;)y+=n[f++],f=f%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),c-a<t)return;const w=u&&c-u;return w?Math.round(y*1e3/w):void 0}}function mn(e,t){let n=0,r=1e3/t,s,o;const a=(c,u=Date.now())=>{n=u,s=null,o&&(clearTimeout(o),o=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?a(c,u):(s=c,o||(o=setTimeout(()=>{o=null,a(s)},r-f)))},()=>s&&a(s)]}const z=(e,t,n=3)=>{let r=0;const s=hn(50,250);return mn(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,d=a-r,c=s(d),u=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:d,rate:c||void 0,estimated:c&&l&&u?(l-a)/c:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},Tt=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Rt=e=>(...t)=>i.asap(()=>e(...t)),bn=T.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,T.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(T.origin),T.navigator&&/(msie|trident)/i.test(T.navigator.userAgent)):()=>!0,yn=T.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const a=[e+"="+encodeURIComponent(t)];i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(s)&&a.push("domain="+s),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wn(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function gn(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Jt(e,t,n){let r=!wn(t);return e&&r||n==!1?gn(e,t):t}const vt=e=>e instanceof x?{...e}:e;function M(e,t){t=t||{};const n={};function r(c,u,f,y){return i.isPlainObject(c)&&i.isPlainObject(u)?i.merge.call({caseless:y},c,u):i.isPlainObject(u)?i.merge({},u):i.isArray(u)?u.slice():u}function s(c,u,f,y){if(i.isUndefined(u)){if(!i.isUndefined(c))return r(void 0,c,f,y)}else return r(c,u,f,y)}function o(c,u){if(!i.isUndefined(u))return r(void 0,u)}function a(c,u){if(i.isUndefined(u)){if(!i.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,f){if(f in t)return r(c,u);if(f in e)return r(void 0,c)}const d={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(c,u,f)=>s(vt(c),vt(u),f,!0)};return i.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=d[u]||s,y=f(e[u],t[u],u);i.isUndefined(y)&&f!==l||(n[u]=y)}),n}const Kt=e=>{const t=M({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=t;t.headers=a=x.from(a),t.url=Ht(Jt(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let d;if(i.isFormData(n)){if(T.hasStandardBrowserEnv||T.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((d=a.getContentType())!==!1){const[c,...u]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...u].join("; "))}}if(T.hasStandardBrowserEnv&&(r&&i.isFunction(r)&&(r=r(t)),r||r!==!1&&bn(t.url))){const c=s&&o&&yn.read(o);c&&a.set(s,c)}return t},_n=typeof XMLHttpRequest<"u",En=_n&&function(e){return new Promise(function(n,r){const s=Kt(e);let o=s.data;const a=x.from(s.headers).normalize();let{responseType:l,onUploadProgress:d,onDownloadProgress:c}=s,u,f,y,w,p;function b(){w&&w(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let h=new XMLHttpRequest;h.open(s.method.toUpperCase(),s.url,!0),h.timeout=s.timeout;function g(){if(!h)return;const C=x.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:C,config:e,request:h};zt(function(P){n(P),b()},function(P){r(P),b()},R),h=null}"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(g)},h.onabort=function(){h&&(r(new m("Request aborted",m.ECONNABORTED,e,h)),h=null)},h.onerror=function(){r(new m("Network Error",m.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let A=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const R=s.transitional||Wt;s.timeoutErrorMessage&&(A=s.timeoutErrorMessage),r(new m(A,R.clarifyTimeoutError?m.ETIMEDOUT:m.ECONNABORTED,e,h)),h=null},o===void 0&&a.setContentType(null),"setRequestHeader"in h&&i.forEach(a.toJSON(),function(A,R){h.setRequestHeader(R,A)}),i.isUndefined(s.withCredentials)||(h.withCredentials=!!s.withCredentials),l&&l!=="json"&&(h.responseType=s.responseType),c&&([y,p]=z(c,!0),h.addEventListener("progress",y)),d&&h.upload&&([f,w]=z(d),h.upload.addEventListener("progress",f),h.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(u=C=>{h&&(r(!C||C.type?new D(null,e,h):C),h.abort(),h=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const E=pn(s.url);if(E&&T.protocols.indexOf(E)===-1){r(new m("Unsupported protocol "+E+":",m.ERR_BAD_REQUEST,e));return}h.send(o||null)})},Cn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(c){if(!s){s=!0,l();const u=c instanceof Error?c:this.reason;r.abort(u instanceof m?u:new D(u instanceof Error?u.message:u))}};let a=t&&setTimeout(()=>{a=null,o(new m(`timeout ${t} of ms exceeded`,m.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>i.asap(l),d}},Tn=Cn,Rn=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},vn=async function*(e,t){for await(const n of xn(e))yield*Rn(n,t)},xn=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},xt=(e,t,n,r)=>{const s=vn(e,t);let o=0,a,l=d=>{a||(a=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await s.next();if(c){l(),d.close();return}let f=u.byteLength;if(n){let y=o+=f;n(y)}d.enqueue(new Uint8Array(u))}catch(c){throw l(c),c}},cancel(d){return l(d),s.return()}},{highWaterMark:2})},tt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Xt=tt&&typeof ReadableStream=="function",Sn=tt&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Gt=(e,...t)=>{try{return!!e(...t)}catch{return!1}},kn=Xt&&Gt(()=>{let e=!1;const t=new Request(T.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),St=64*1024,lt=Xt&&Gt(()=>i.isReadableStream(new Response("").body)),J={stream:lt&&(e=>e.body)};tt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!J[t]&&(J[t]=i.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new m(`Response type '${t}' is not supported`,m.ERR_NOT_SUPPORT,r)})})})(new Response);const An=async e=>{if(e==null)return 0;if(i.isBlob(e))return e.size;if(i.isSpecCompliantForm(e))return(await new Request(T.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(i.isArrayBufferView(e)||i.isArrayBuffer(e))return e.byteLength;if(i.isURLSearchParams(e)&&(e=e+""),i.isString(e))return(await Sn(e)).byteLength},On=async(e,t)=>{const n=i.toFiniteNumber(e.getContentLength());return n??An(t)},Pn=tt&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:o,timeout:a,onDownloadProgress:l,onUploadProgress:d,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:y}=Kt(e);c=c?(c+"").toLowerCase():"text";let w=Tn([s,o&&o.toAbortSignal()],a),p;const b=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let h;try{if(d&&kn&&n!=="get"&&n!=="head"&&(h=await On(u,r))!==0){let R=new Request(t,{method:"POST",body:r,duplex:"half"}),O;if(i.isFormData(r)&&(O=R.headers.get("content-type"))&&u.setContentType(O),R.body){const[P,j]=Tt(h,z(Rt(d)));r=xt(R.body,St,P,j)}}i.isString(f)||(f=f?"include":"omit");const g="credentials"in Request.prototype;p=new Request(t,{...y,signal:w,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:g?f:void 0});let E=await fetch(p);const C=lt&&(c==="stream"||c==="response");if(lt&&(l||C&&b)){const R={};["status","statusText","headers"].forEach(yt=>{R[yt]=E[yt]});const O=i.toFiniteNumber(E.headers.get("content-length")),[P,j]=l&&Tt(O,z(Rt(l),!0))||[];E=new Response(xt(E.body,St,P,()=>{j&&j(),b&&b()}),R)}c=c||"text";let A=await J[i.findKey(J,c)||"text"](E,e);return!C&&b&&b(),await new Promise((R,O)=>{zt(R,O,{data:A,headers:x.from(E.headers),status:E.status,statusText:E.statusText,config:e,request:p})})}catch(g){throw b&&b(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new m("Network Error",m.ERR_NETWORK,e,p),{cause:g.cause||g}):m.from(g,g&&g.code,e,p)}}),ct={http:We,xhr:En,fetch:Pn};i.forEach(ct,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const kt=e=>`- ${e}`,Ln=e=>i.isFunction(e)||e===null||e===!1,Yt={getAdapter:e=>{e=i.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let o=0;o<t;o++){n=e[o];let a;if(r=n,!Ln(n)&&(r=ct[(a=String(n)).toLowerCase()],r===void 0))throw new m(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+o]=r}if(!r){const o=Object.entries(s).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(kt).join(`
`):" "+kt(o[0]):"as no adapter specified";throw new m("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:ct};function st(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new D(null,e)}function At(e){return st(e),e.headers=x.from(e.headers),e.data=rt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Yt.getAdapter(e.adapter||mt.adapter)(e).then(function(r){return st(e),r.data=rt.call(e,e.transformResponse,r),r.headers=x.from(r.headers),r},function(r){return Vt(r)||(st(e),r&&r.response&&(r.response.data=rt.call(e,e.transformResponse,r.response),r.response.headers=x.from(r.response.headers))),Promise.reject(r)})}const Zt="1.8.2",et={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{et[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Ot={};et.transitional=function(t,n,r){function s(o,a){return"[Axios v"+Zt+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,l)=>{if(t===!1)throw new m(s(a," has been removed"+(n?" in "+n:"")),m.ERR_DEPRECATED);return n&&!Ot[a]&&(Ot[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,a,l):!0}};et.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Mn(e,t,n){if(typeof e!="object")throw new m("options must be an object",m.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],a=t[o];if(a){const l=e[o],d=l===void 0||a(l,o,e);if(d!==!0)throw new m("option "+o+" must be "+d,m.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new m("Unknown option "+o,m.ERR_BAD_OPTION)}}const q={assertOptions:Mn,validators:et},k=q.validators;class K{constructor(t){this.defaults=t,this.interceptors={request:new Et,response:new Et}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=M(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&q.assertOptions(r,{silentJSONParsing:k.transitional(k.boolean),forcedJSONParsing:k.transitional(k.boolean),clarifyTimeoutError:k.transitional(k.boolean)},!1),s!=null&&(i.isFunction(s)?n.paramsSerializer={serialize:s}:q.assertOptions(s,{encode:k.function,serialize:k.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),q.assertOptions(n,{baseUrl:k.spelling("baseURL"),withXsrfToken:k.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&i.merge(o.common,o[n.method]);o&&i.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=x.concat(a,o);const l=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(d=d&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,f=0,y;if(!d){const p=[At.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,c),y=p.length,u=Promise.resolve(n);f<y;)u=u.then(p[f++],p[f++]);return u}y=l.length;let w=n;for(f=0;f<y;){const p=l[f++],b=l[f++];try{w=p(w)}catch(h){b.call(this,h);break}}try{u=At.call(this,w)}catch(p){return Promise.reject(p)}for(f=0,y=c.length;f<y;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=M(this.defaults,t);const n=Jt(t.baseURL,t.url,t.allowAbsoluteUrls);return Ht(n,t.params,t.paramsSerializer)}}i.forEach(["delete","get","head","options"],function(t){K.prototype[t]=function(n,r){return this.request(M(r||{},{method:t,url:n,data:(r||{}).data}))}});i.forEach(["post","put","patch"],function(t){function n(r){return function(o,a,l){return this.request(M(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}K.prototype[t]=n(),K.prototype[t+"Form"]=n(!0)});const V=K;class bt{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const a=new Promise(l=>{r.subscribe(l),o=l}).then(s);return a.cancel=function(){r.unsubscribe(o)},a},t(function(o,a,l){r.reason||(r.reason=new D(o,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new bt(function(s){t=s}),cancel:t}}}const Nn=bt;function Fn(e){return function(n){return e.apply(null,n)}}function Bn(e){return i.isObject(e)&&e.isAxiosError===!0}const ut={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ut).forEach(([e,t])=>{ut[t]=e});const Dn=ut;function Qt(e){const t=new V(e),n=Pt(V.prototype.request,t);return i.extend(n,V.prototype,t,{allOwnKeys:!0}),i.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Qt(M(e,s))},n}const _=Qt(mt);_.Axios=V;_.CanceledError=D;_.CancelToken=Nn;_.isCancel=Vt;_.VERSION=Zt;_.toFormData=Z;_.AxiosError=m;_.Cancel=_.CanceledError;_.all=function(t){return Promise.all(t)};_.spread=Fn;_.isAxiosError=Bn;_.mergeConfig=M;_.AxiosHeaders=x;_.formToJSON=e=>qt(i.isHTMLForm(e)?new FormData(e):e);_.getAdapter=Yt.getAdapter;_.HttpStatusCode=Dn;_.default=_;const N=_,te={data(){return{showModal:!1,prompt:"",result:"",refactorPrompt:"",loading:!1,modalMode:"prompt",hadInitialValue:!1}},methods:{transWithFallback(e,t){const n=__(""+e);return n===e?t:n},openModal(e){const t=e?e():"";t&&t.trim()!==""&&t!=='<br class="ProseMirror-trailingBreak">'?(this.result=t,this.modalMode="refactor",this.hadInitialValue=!0):(this.prompt="",this.result="",this.modalMode="prompt",this.hadInitialValue=!1),this.refactorPrompt="",this.showModal=!0},closeModal(e){this.showModal=!1,e&&e()},resetToPrompt(){this.result="",this.modalMode="prompt"},setRefactorMode(){this.refactorPrompt="",this.modalMode="refactor"},cancelRefactor(){this.refactorPrompt="",this.modalMode="prompt"},handleEnter(e){this.modalMode==="prompt"&&!this.loading&&this.prompt!==""?this.submitPrompt(e):this.modalMode==="refactor"&&!this.loading&&this.refactorPrompt!==""&&this.submitRefactor(e)}}},ee={data(){return{loadingTranslation:!1,showTranslateDropdown:!1,selectedLanguage:"en",languages:[],value:null}},methods:{toggleTranslateDropdown(){this.showTranslateDropdown=!this.showTranslateDropdown},async getLocalizations(){try{const e=await N.get("/cp/getLocalizations");if(!(e!=null&&e.data)||!e.data.content)return;const t=e.data.content;this.languages=Object.keys(t).map(n=>{const r=t[n];return{code:r.short_locale,label:r.name}})}catch(e){console.error("Error fetching locales:",e)}},async translateTo(e){this.selectedLanguage=e,this.showTranslateDropdown=!1,this.loadingTranslation=!0;try{await N.post("/cp/prompt",{title:`ONLY TRANSLATE THIS ${this.translationMode||"TEXT"} in the language with ISO: ${this.selectedLanguage} AND NOTHING ELSE!! Don't answer! only translate!! Text to translate:`+this.value}).then(t=>{if(!(t!=null&&t.data)||!t.data.content||t.data.content==="")throw new Error("Empty response from API. Verify your API key.");if(this.result=t.data.content,t.data.content==="")throw new Error("Empty response from API. Verify your API key.");this.validateResult?this.validateResult():this.editor&&this.editor.commands&&this.editor.commands.WriteInBard&&this.editor.commands.WriteInBard(this.result),Statamic.$toast.success(__("Your content has been translated."))}).catch(t=>{var n;Statamic.$toast.error(((n=t==null?void 0:t.response)==null?void 0:n.data.error)||t.message||__("Something went wrong."),{duration:1e4})})}catch(t){console.error("Error translating:",t)}finally{this.loadingTranslation=!1}},handleClickOutside(e){this.$refs.translationContainer&&!this.$refs.translationContainer.contains(e.target)&&(this.showTranslateDropdown=!1)}},mounted(){this.getLocalizations(),document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)}};function F(e,t,n,r,s,o,a,l){var d=typeof e=="function"?e.options:e;t&&(d.render=t,d.staticRenderFns=n,d._compiled=!0),r&&(d.functional=!0),o&&(d._scopeId="data-v-"+o);var c;if(a?(c=function(y){y=y||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!y&&typeof __VUE_SSR_CONTEXT__<"u"&&(y=__VUE_SSR_CONTEXT__),s&&s.call(this,y),y&&y._registeredComponents&&y._registeredComponents.add(a)},d._ssrRegister=c):s&&(c=l?function(){s.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(d.functional){d._injectStyles=c;var u=d.render;d.render=function(w,p){return c.call(p),u(w,p)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:d}}const In={};var Un=function(){var t=this,n=t._self._c;return n("svg",{attrs:{fill:"currentColor",viewBox:"0 0 488 488","xml:space":"preserve"}},[n("g",{attrs:{transform:"translate(0 -540.36)"}},[n("g",[n("g",[n("path",{attrs:{d:`M213.769,651.94L213.769,651.94c-5.499,0-9.999,4.501-9.999,10.003v51.216h-10.498c0-0.2,0-0.5,0-0.7
              c0-0.1,0-0.2,0-0.2c-3.5-34.911-36.995-63.02-71.79-60.219c-5.499,0.4-9.599,5.302-9.199,10.803c0.4,5.502,5.299,9.603,10.798,9.203
              c23.597-1.901,47.193,17.606,50.093,41.213H71.09c-2.8,0-5.499,1.2-7.399,3.301c-1.9,2.101-2.8,4.902-2.5,7.702
              c1.7,17.005,10.698,33.211,24.596,44.614c12.098,9.803,26.796,15.205,41.294,15.205c2,0,4.099-0.1,6.099-0.3
              c27.996-3.001,51.193-24.308,58.092-50.416h12.498v40.513c0,5.502,4.499,10.003,9.999,10.003c5.499,0,9.999-4.501,9.999-10.003
              V662.244C223.768,656.442,219.269,651.94,213.769,651.94z M131.081,763.776c-10.998,1.2-22.897-2.601-32.695-10.503
              c-6.699-5.402-11.798-12.404-14.698-20.006h86.688C164.176,749.271,148.979,761.875,131.081,763.776z`}}),n("path",{attrs:{d:`M405.742,869.409l-50.293-99.432c-1.7-3.401-5.199-5.502-8.899-5.502c-3.799,0-7.199,2.101-8.899,5.502L286.559,871.71
              c-2.5,4.902-0.5,10.903,4.399,13.404c1.4,0.7,3,1.1,4.499,1.1c3.699,0,7.199-2.001,8.899-5.502l17.597-35.011h49.393
              l16.598,32.81c2.5,4.902,8.499,6.902,13.398,4.401C406.242,880.313,408.241,874.311,405.742,869.409L405.742,869.409z
               M331.952,825.595l14.598-29.009l14.698,29.009H331.952z`}}),n("path",{attrs:{d:`M486.33,812.991c-4.799-31.31-20.097-60.319-43.094-81.826c-43.494-40.613-106.985-49.516-159.377-23.808
              c-7.899-71.023-68.09-126.54-141.08-126.54c-38.094,0-73.889,14.705-100.885,41.513C14.898,649.139,0,684.951,0,723.163
              c0,38.112,14.898,73.924,41.894,100.832c26.896,26.809,62.791,41.513,100.885,41.513c22.097,0,43.094-5.102,61.791-14.205
              c6.399,58.118,48.093,107.334,105.685,122.539h0.1c11.498,2.801,22.997,4.201,34.395,4.201
              c51.293,0,99.986-27.709,125.482-74.124C485.53,876.412,491.129,844.101,486.33,812.991z M142.78,845.502
              c-67.59,0-122.682-54.817-122.682-122.339c0-67.421,55.092-122.339,122.682-122.339c67.29,0,121.982,54.917,121.982,122.339
              S210.07,845.502,142.78,845.502z M452.835,894.317c-26.796,48.816-83.288,73.523-137.48,60.119
              c-52.492-13.904-89.587-60.619-91.487-114.436c35.195-24.608,58.692-64.721,60.791-110.335
              c46.493-27.209,105.385-20.907,144.979,16.205C470.432,783.882,479.931,844.902,452.835,894.317z`}}),n("path",{attrs:{d:`M193.172,966.24v-0.1c-0.1-0.4-0.2-0.8-0.3-1.1c0,0,0,0,0-0.1c-0.1-0.3-0.2-0.7-0.4-1c0-0.1-0.1-0.2-0.2-0.3
              c-0.1-0.2-0.3-0.5-0.4-0.7c-0.1-0.1-0.1-0.2-0.2-0.3c-0.2-0.3-0.4-0.6-0.6-0.9c-0.2-0.3-0.5-0.6-0.8-0.9
              c-0.1-0.1-0.1-0.1-0.2-0.2c-0.2-0.2-0.5-0.4-0.7-0.6c-0.1-0.1-0.2-0.1-0.3-0.2c-0.2-0.2-0.5-0.3-0.7-0.5
              c-0.1-0.1-0.2-0.1-0.3-0.2c-0.3-0.2-0.7-0.4-1-0.5l-51.093-20.607c-5.099-2.101-10.898,0.4-12.998,5.502s0.4,10.903,5.499,13.004
              l34.195,13.804c-18.797,10.103-41.494,10.903-61.191,1.5h-0.1c-24.896-11.504-40.594-36.912-39.994-64.921
              c0.1-5.502-4.199-10.103-9.799-10.203c-5.499-0.1-10.099,4.201-10.199,9.803c-0.9,35.911,19.397,68.622,51.493,83.527
              c11.998,5.702,24.796,8.503,37.595,8.503c10.898,0,21.797-2.101,32.095-6.102l-9.099,22.207c-2.1,5.102,0.4,11.004,5.499,13.004
              c1.2,0.5,2.5,0.7,3.799,0.7c3.899,0,7.699-2.301,9.299-6.202l20.597-50.516c0-0.1,0.1-0.2,0.1-0.3c-0.1-0.1-0.1-0.2,0-0.3
              c0.1-0.3,0.2-0.6,0.2-0.8c0-0.1,0-0.2,0.1-0.3c0.1-0.4,0.1-0.8,0.2-1.2c0-0.4,0-0.7,0-1.1c0-0.1,0-0.2,0-0.3
              c0-0.3-0.1-0.6-0.1-0.9C193.172,966.34,193.172,966.34,193.172,966.24z`}}),n("path",{attrs:{d:`M295.458,602.625v0.1c0.1,0.4,0.2,0.8,0.3,1.1c0,0,0,0,0,0.1c0.1,0.3,0.2,0.7,0.4,1c0,0.1,0.1,0.2,0.2,0.3
              c0.1,0.2,0.3,0.5,0.4,0.7c0.1,0.1,0.1,0.2,0.2,0.3c0.2,0.3,0.4,0.6,0.6,0.9c0.2,0.3,0.5,0.6,0.8,0.9c0.1,0.1,0.1,0.1,0.2,0.2
              c0.2,0.2,0.5,0.4,0.7,0.6c0.1,0.1,0.2,0.1,0.3,0.2c0.2,0.2,0.5,0.3,0.7,0.5c0.1,0.1,0.2,0.1,0.3,0.2c0.3,0.2,0.7,0.4,1,0.5
              l51.093,20.607c5.099,2.101,10.898-0.4,12.998-5.502c2.1-5.102-0.4-10.903-5.499-13.004l-34.195-13.804
              c18.797-10.103,41.494-10.903,61.191-1.5h0.1c24.896,11.504,40.594,36.912,39.994,64.921c-0.1,5.502,4.199,10.103,9.799,10.203
              c0.1,0,0.2,0,0.2,0c5.399,0,9.899-4.301,9.999-9.803c0.8-36.011-19.397-68.822-51.593-83.627l0,0
              c-22.297-10.603-47.393-11.104-69.59-2.401l9.099-22.207c2.1-5.102-0.4-11.003-5.499-13.004
              c-5.099-2.101-10.998,0.4-12.998,5.502l-20.597,50.516c0,0.1-0.1,0.2-0.1,0.3s-0.1,0.3-0.1,0.4c-0.1,0.3-0.2,0.6-0.2,0.8
              c0,0.1,0,0.2-0.1,0.3c-0.1,0.4-0.1,0.8-0.2,1.2c0,0.4,0,0.7,0,1.1c0,0.1,0,0.2,0,0.3c0,0.3,0.1,0.6,0.1,0.9
              C295.458,602.525,295.458,602.525,295.458,602.625z`}})])])])])},$n=[],jn=F(In,Un,$n,!1,null,null,null,null);const ne=jn.exports,Hn={};var Wn=function(){var t=this,n=t._self._c;return n("svg",{attrs:{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M10.5026 5.01692L9.96661 3.65785C9.62068 2.78072 8.37933 2.78072 8.03339 3.65784L6.96137 6.37599C6.85576 6.64378 6.64378 6.85575 6.37599 6.96137L3.65785 8.03339C2.78072 8.37932 2.78072 9.62067 3.65784 9.96661L6.37599 11.0386C6.64378 11.1442 6.85575 11.3562 6.96137 11.624L8.03339 14.3422C8.37932 15.2193 9.62067 15.2193 9.96661 14.3422L11.0386 11.624C11.1442 11.3562 11.3562 11.1442 11.624 11.0386L14.3422 9.96661C15.2193 9.62068 15.2193 8.37933 14.3422 8.03339L12.9831 7.49738",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round"}}),n("path",{attrs:{d:"M16.4885 13.3481C16.6715 12.884 17.3285 12.884 17.5115 13.3481L18.3121 15.3781C18.368 15.5198 18.4802 15.632 18.6219 15.6879L20.6519 16.4885C21.116 16.6715 21.116 17.3285 20.6519 17.5115L18.6219 18.3121C18.4802 18.368 18.368 18.4802 18.3121 18.6219L17.5115 20.6519C17.3285 21.116 16.6715 21.116 16.4885 20.6519L15.6879 18.6219C15.632 18.4802 15.5198 18.368 15.3781 18.3121L13.3481 17.5115C12.884 17.3285 12.884 16.6715 13.3481 16.4885L15.3781 15.6879C15.5198 15.632 15.632 15.5198 15.6879 15.3781L16.4885 13.3481Z",stroke:"currentColor","stroke-width":"1"}})])},qn=[],Vn=F(Hn,Wn,qn,!1,null,null,null,null);const re=Vn.exports;const zn={name:"AiInputWrapper",mixins:[Fieldtype,te,ee],components:{Translation:ne,AiIcon:re},props:{value:{type:String,default:""},inputType:{type:String,default:"textarea"}},data(){return{internalValue:this.value}},watch:{internalValue(e){this.update(e)},value(e){e!==this.internalValue&&(this.internalValue=e)}},mounted(){this.getLocalizations(),this.$nextTick(()=>{const e=this.$el.closest(".grid-cell")||this.$el.closest(".form-group");if(!e)return;const t=e.querySelector("label"),n=this.$refs.aiBoldContainer;t&&n&&(t.prepend?t.prepend(n):t.insertBefore(n,t.firstChild))}),this.editor={commands:{focus:()=>this.$refs.editor.focus()},setEditable:e=>this.$refs.editor.disabled=!e},this.resulteditor={commands:{focus:()=>{var e;return(e=this.$refs.resulteditor)==null?void 0:e.focus()}}}},methods:{async submitPrompt(e){var t;if(this.prompt){this.loading=!0;try{let n=this.prompt;this.inputType==="input"&&(n="generate MAXIMUM 12 words! "+n);const{data:r}=await N.post("/cp/prompt",{title:n});if(!r.content||r.content.trim()==="")throw new Error("Empty response from API. Verify your API key");this.result=r.content,Statamic.$toast.success(__("Your content has been generated.")),this.modalMode="result"}catch(n){Statamic.$toast.error(((t=n.response)==null?void 0:t.data.error)||n.message,{duration:1e4})}finally{this.loading=!1,this.resulteditor.commands.focus()}}},async submitRefactor(e){var t;if(this.refactorPrompt){this.loading=!0;try{let n=this.refactorPrompt;this.inputType==="input"&&(n="generate MAXIMUM 12 words!"+n);const{data:r}=await N.post("/cp/promptrefactor",{text:this.result,prompt:n});if(!r.content||r.content.trim()==="")throw new Error("Empty response from API. Verify your API key");this.result=r.content,Statamic.$toast.success(__("Your content has been refactored.")),this.modalMode="result"}catch(n){Statamic.$toast.error(((t=n.response)==null?void 0:t.data.error)||n.message,{duration:1e4})}finally{this.loading=!1,this.resulteditor.commands.focus()}}},validateResult(e){this.update(this.result),this.editor.commands.focus(),this.editor.setEditable(!0),this.closeModal(e)}}};var Jn=function(){var t=this,n=t._self._c;return n("div",{staticClass:"bold-ai-statamic-assistant"},[n("div",{ref:"aiBoldContainer",staticClass:"ai-bold-wrapper"},[n("div",{staticClass:"ai-icon-wrapper"},[n("button",{attrs:{type:"button"},on:{click:function(r){t.openModal(()=>t.internalValue)}}},[n("AiIcon",{staticClass:"w-5 h-5 text-blue v-popper--has-tooltip"})],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.languages.length>0,expression:"languages.length > 0"}],staticClass:"translation-wrapper",class:t.internalValue?"":"opacity-50"},[n("button",{staticClass:"button-translate",attrs:{disabled:!t.internalValue,type:"button"},on:{click:t.toggleTranslateDropdown}},[n("Translation",{staticClass:"w-4 h-4 text-green-600"})],1),t.showTranslateDropdown?n("div",{staticClass:"translate-dropdown vs__dropdown-menu"},t._l(t.languages,function(r){return n("div",{key:r.code,staticClass:"translate-option vs__dropdown-option",on:{click:function(s){return t.translateTo(r.code)}}},[t._v(" "+t._s(r.label)+" ")])}),0):t._e()])]),n("div",{staticClass:"relative"},[t.inputType==="input"?n("input",{directives:[{name:"model",rawName:"v-model",value:t.internalValue,expression:"internalValue"}],key:"input",ref:"editor",staticClass:"input-text",domProps:{value:t.internalValue},on:{input:function(r){r.target.composing||(t.internalValue=r.target.value)}}}):n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.internalValue,expression:"internalValue"}],key:"textarea",ref:"editor",staticClass:"input-text",attrs:{rows:"4"},domProps:{value:t.internalValue},on:{input:function(r){r.target.composing||(t.internalValue=r.target.value)}}}),t.loadingTranslation?n("div",{staticClass:"flex absolute top-0 left-0 justify-center items-center w-full h-full"},[n("span",{staticClass:"z-10 loader"}),n("div",{staticClass:"absolute top-0 left-0 w-full h-full bg-black rounded-sm opacity-50"})]):t._e()]),t.showModal?n("modal",{attrs:{name:"ai-prompt-modal",width:"600px",height:"auto"},on:{closed:t.closeModal},scopedSlots:t._u([{key:"default",fn:function({close:r}){return n("div",{staticClass:"relative p-4",on:{keyup:[function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")||!s.ctrlKey?null:t.handleEnter(r)},function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")||!s.metaKey?null:t.handleEnter(r)}]}},[n("button",{staticClass:"absolute text-gray-500 absolute-btn-close hover:text-gray-700",attrs:{type:"button"},on:{click:function(s){return t.closeModal(r)}}},[n("svg",{staticClass:"w-6 h-6",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])]),t.modalMode==="prompt"?n("div",[n("h3",{staticClass:"mb-2 text-lg font-bold"},[t._v(" "+t._s(t.transWithFallback("title","AI assistant"))+" ")]),n("p",{staticClass:"mb-4 help-block"},[t._v(" "+t._s(t.transWithFallback("prompt_placeholder","Describe the article you want to generate"))+" ")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],staticClass:"input-text",attrs:{rows:"4"},domProps:{value:t.prompt},on:{input:function(s){s.target.composing||(t.prompt=s.target.value)}}})]):t.modalMode==="result"?n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.result,expression:"result"}],ref:"resulteditor",staticClass:"mt-1 input-text text-area-result",attrs:{disabled:t.hadInitialValue,rows:"4"},domProps:{value:t.result},on:{input:function(s){s.target.composing||(t.result=s.target.value)}}})]):t.modalMode==="refactor"?n("div",[n("label",{staticClass:"block mb-1 font-bold"},[t._v(t._s(t.transWithFallback("current_text","Current Text")))]),n("p",{staticClass:"mb-4 help-block"},[t._v(" "+t._s(t.transWithFallback("prompt_placeholder","Describe the article you want to generate"))+" ")]),n("textarea",{staticClass:"mt-1 input-text text-area-result",attrs:{rows:"4",disabled:""},domProps:{value:t.result}}),n("div",{staticClass:"flex justify-between items-center"},[n("label",{staticClass:"block mt-4 mb-1 font-bold"},[t._v(" "+t._s(t.transWithFallback("edit","Describe your adjustment."))+" "),n("span",{staticClass:"inline-flex justify-center items-center ml-1 w-5 h-5 text-white rounded-full cursor-help",attrs:{title:t.transWithFallback("refactor_description","Enter an instruction to update the current text.")}},[t._v("?")])])]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.refactorPrompt,expression:"refactorPrompt"}],staticClass:"mt-1 input-text",attrs:{rows:"4",placeholder:t.transWithFallback("refactor_placeholder","Describe your adjustment")},domProps:{value:t.refactorPrompt},on:{input:function(s){s.target.composing||(t.refactorPrompt=s.target.value)}}})]):t._e(),n("div",{staticClass:"flex justify-between mt-4 space-x-2"},[t.modalMode==="prompt"?[n("span"),n("button",{staticClass:"btn-primary",attrs:{type:"button",disabled:t.loading||t.prompt===""},on:{click:function(s){return t.submitPrompt(r)}}},[t.loading?[n("span",{staticClass:"loader"})]:n("span",[t._v(" "+t._s(t.transWithFallback("go","go!"))+" ["),n("kbd",[t._v("Ctrl")]),t._v(" + "),n("kbd",[t._v("Enter")]),t._v("] ")])],2)]:t.modalMode==="result"?[n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){return t.resetToPrompt()}}},[t._v(" "+t._s(t.transWithFallback("back","Back"))+" ")]),n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){return t.setRefactorMode()}}},[t._v(" "+t._s(t.transWithFallback("refactor","Refactor"))+" ")]),n("button",{staticClass:"btn-primary",attrs:{type:"button"},on:{click:function(s){return t.validateResult(r)}}},[t._v(" "+t._s(t.transWithFallback("apply_changes","Validate"))+" ")])]:t.modalMode==="refactor"?[n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){return t.cancelRefactor()}}},[t._v(" "+t._s(t.transWithFallback("back","Back"))+" ")]),n("button",{staticClass:"btn-primary",attrs:{type:"button",disabled:t.loading||t.refactorPrompt===""},on:{click:function(s){return t.submitRefactor(r)}}},[t.loading?[n("span",{staticClass:"loader"})]:n("span",[t._v(t._s(t.transWithFallback("apply_refactor","Apply Refactor")))])],2)]:t._e()],2)])}}],null,!1,68986296)}):t._e()],1)},Kn=[],Xn=F(zn,Jn,Kn,!1,null,null,null,null);const se=Xn.exports,Gn={mixins:[Fieldtype],components:{AiInputWrapper:se}};var Yn=function(){var t=this,n=t._self._c;return n("AiInputWrapper",{attrs:{value:t.value,inputType:"textarea"},on:{input:t.update}})},Zn=[],Qn=F(Gn,Yn,Zn,!1,null,null,null,null);const tr=Qn.exports,er={mixins:[Fieldtype],components:{AiInputWrapper:se}};var nr=function(){var t=this,n=t._self._c;return n("AiInputWrapper",{attrs:{value:t.value,inputType:"input"},on:{input:t.update}})},rr=[],sr=F(er,nr,rr,!1,null,null,null,null);const or=sr.exports,ar={mixins:[BardToolbarButton,te],name:"BardAiButton",components:{AiIcon:re},props:{config:Object,disabled:Boolean},data(){return{value:null,showModal:!1,prompt:"",result:"",refactorPrompt:"",loading:!1,modalMode:"prompt",hadInitialValue:!1,tooltipText:"AI Assistant"}},methods:{async submitPrompt(e){if(this.prompt){this.loading=!0;try{const t=await N.post("/cp/prompt",{title:this.prompt});if(!(t!=null&&t.data)||!t.data.content)return;if(this.result=t.data.content,t.data.content==="")throw new Error("Empty response from API. Verify your API key.");this.modalMode="result"}catch(t){console.error("Error generating AI text:",t)}finally{this.loading=!1}}},async submitRefactor(e){if(this.refactorPrompt){this.loading=!0;try{const t=await this.editor.commands.refactorHTMLWithAi({text:this.result,refactorPrompt:this.refactorPrompt});!t||t.trim()===""?Statamic.$toast.error("Empty response from API. Verify your API key",{duration:1e4}):(this.result=t,Statamic.$toast.success(__("Your content has been refactored.")),this.modalMode="result")}catch(t){console.error("Error refactoring AI text:",t)}finally{this.loading=!1}}},validateResult(e){console.log("writebard:",this.result),this.editor.commands.WriteInBard(this.result),this.closeModal(e)}}};var ir=function(){var t=this,n=t._self._c;return n("div",[n("div",{staticClass:"class-type-wrapper translate-me__d-flex"},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltipText,expression:"tooltipText"}],staticClass:"bard-toolbar-button translate-me__btn translate-me__btn--bard",attrs:{disabled:t.disabled||t.loading},on:{click:function(r){return t.openModal(t.editor.commands.getBardContent)}}},[n("AiIcon",{staticClass:"w-5 h-5 text-blue"})],1)]),t.showModal?n("modal",{attrs:{name:"ai-prompt-modal",width:"600px",height:"auto"},on:{closed:t.closeModal},scopedSlots:t._u([{key:"default",fn:function({close:r}){return n("div",{staticClass:"relative p-4",on:{keyup:[function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")||!s.ctrlKey?null:t.handleEnter(r)},function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")||!s.metaKey?null:t.handleEnter(r)}]}},[n("button",{staticClass:"absolute text-gray-500 absolute-btn-close hover:text-gray-700",attrs:{type:"button"},on:{click:function(s){return t.closeModal(r)}}},[n("svg",{staticClass:"w-6 h-6",attrs:{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])]),t.modalMode==="prompt"?n("div",[n("h3",{staticClass:"mb-2 text-lg font-bold"},[t._v(t._s(t.transWithFallback("title","AI assistant")))]),n("p",{staticClass:"mb-4 help-block"},[t._v(" "+t._s(t.transWithFallback("prompt_placeholder","Describe the content you want to generate"))+" ")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.prompt,expression:"prompt"}],staticClass:"input-text",attrs:{rows:"4",placeholder:""},domProps:{value:t.prompt},on:{input:function(s){s.target.composing||(t.prompt=s.target.value)}}})]):t.modalMode==="result"?n("div",[n("div",{ref:"resulteditor",staticClass:"mt-1 prose input-text text-area-result",attrs:{disabled:t.hadInitialValue,rows:"4",placeholder:""},domProps:{innerHTML:t._s(t.result)}})]):t.modalMode==="refactor"?n("div",[n("label",{staticClass:"block mb-1 font-bold"},[t._v(t._s(t.transWithFallback("current_text","Current Text")))]),n("p",{staticClass:"mb-4 help-block"},[t._v(" "+t._s(t.transWithFallback("refactor_description","Describe the changes you want to make"))+" ")]),n("div",{ref:"resulteditor",staticClass:"mt-1 prose input-text text-area-result",attrs:{disabled:t.hadInitialValue,rows:"4",placeholder:""},domProps:{innerHTML:t._s(t.result)}}),n("div",{staticClass:"flex justify-between items-center"},[n("label",{staticClass:"block mt-4 mb-1 font-bold"},[t._v(" "+t._s(t.transWithFallback("edit","Describe your adjustment."))+" "),n("span",{staticClass:"inline-flex justify-center items-center ml-1 w-5 h-5 text-white rounded-full cursor-help",attrs:{title:t.transWithFallback("refactor_description","Enter an instruction to update the current text.")}},[t._v("?")])])]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.refactorPrompt,expression:"refactorPrompt"}],staticClass:"mt-1 input-text",attrs:{rows:"4",placeholder:t.transWithFallback("refactor_placeholder","Describe your changes")},domProps:{value:t.refactorPrompt},on:{input:function(s){s.target.composing||(t.refactorPrompt=s.target.value)}}})]):t._e(),n("div",{staticClass:"flex justify-between mt-4 space-x-2"},[t.modalMode==="prompt"?[n("span"),n("button",{staticClass:"btn-primary",attrs:{type:"button",disabled:t.loading||t.prompt===""},on:{click:function(s){return t.submitPrompt(r)}}},[t.loading?[n("span",{staticClass:"loader"})]:n("span",[t._v(" "+t._s(t.transWithFallback("go","go!"))+" ")])],2)]:t.modalMode==="result"?[n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){return t.resetToPrompt()}}},[t._v(" "+t._s(t.transWithFallback("back","Back"))+" ")]),n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){return t.setRefactorMode()}}},[t._v(" "+t._s(t.transWithFallback("refactor","Refactor"))+" ")]),n("button",{staticClass:"btn-primary",attrs:{type:"button"},on:{click:function(s){return t.validateResult(r)}}},[t._v(" "+t._s(t.transWithFallback("apply_changes","Validate"))+" ")])]:t.modalMode==="refactor"?[n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(s){return t.cancelRefactor()}}},[t._v(" "+t._s(t.transWithFallback("back","Back"))+" ")]),n("button",{staticClass:"btn-primary",attrs:{type:"button",disabled:t.loading||t.refactorPrompt===""},on:{click:function(s){return t.submitRefactor(r)}}},[t.loading?[n("span",{staticClass:"loader"})]:n("span",[t._v(" "+t._s(t.transWithFallback("apply_refactor","Generieren"))+" ")])],2)]:t._e()],2)])}}],null,!1,4250432030)}):t._e()],1)},lr=[],cr=F(ar,ir,lr,!1,null,null,null,null);const ur=cr.exports,dr={mixins:[BardToolbarButton,ee],name:"BardAiTranslation",components:{Translation:ne},data(){return{value:null,loadingTranslation:!1,showTranslateDropdown:!1,selectedLanguage:"en",languages:[]}},mounted(){this.getLocalizations(),document.addEventListener("click",this.handleClickOutside),this.$nextTick(()=>{const e=this.$el.closest(".bard-fieldtype-wrapper");e&&this.$refs.loadingBard&&e.appendChild(this.$refs.loadingBard)})},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)},methods:{toggleTranslateDropdown(){let e=this.editor.commands.getBardContent();e&&e!==""&&(this.value=e),this.showTranslateDropdown=!this.showTranslateDropdown},async translateTo(e){this.selectedLanguage=e,this.showTranslateDropdown=!1,this.loadingTranslation=!0;try{await N.post("/cp/prompt",{title:`ONLY TRANSLATE THIS HTML in the language with ISO: ${this.selectedLanguage} AND NOTHING ELSE!! KEEP THE HTML STRUCTURE EXACTLY THE SAME. Don't answer! only translate!! Text to translate:`+this.value}).then(t=>{if(!(t!=null&&t.data)||!t.data.content||t.data.content==="")throw new Error("Empty response from API. Verify your API key.");this.result=t.data.content,this.editor.commands.WriteInBard(this.result),Statamic.$toast.success(__("Your content has been translated."))}).catch(t=>{var n;Statamic.$toast.error(((n=t==null?void 0:t.response)==null?void 0:n.data.error)||t.message||__("Something went wrong."),{duration:1e4})}).finally(()=>{this.loadingTranslation=!1})}catch(t){console.error("Error generating AI text:",t)}}}};var fr=function(){var t=this,n=t._self._c;return n("div",[n("div",{ref:"translationContainer",staticClass:"class-type-wrapper translate-me__d-flex"},[n("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"AI Translation",expression:"'AI Translation'"}],staticClass:"bard-toolbar-button translate-me__btn translate-me__btn--bard",attrs:{type:"button"},on:{click:t.toggleTranslateDropdown}},[n("Translation",{staticClass:"w-4 h-4 text-green-600"})],1),t.showTranslateDropdown?n("div",{staticClass:"translate-dropdown vs__dropdown-menu"},t._l(t.languages,function(r){return n("div",{key:r.code,staticClass:"translate-option vs__dropdown-option",on:{click:function(s){return t.translateTo(r.code)}}},[t._v(" "+t._s(r.label)+" ")])}),0):t._e()]),n("div",{ref:"loadingBard",staticClass:"absolute top-0 left-0 z-10 justify-center items-center w-full h-full",style:{display:t.loadingTranslation?"flex":"none"}},[n("span",{staticClass:"z-10 loader"}),n("div",{staticClass:"absolute top-0 left-0 w-full h-full bg-black rounded-sm opacity-50"})])])},pr=[],hr=F(dr,fr,pr,!1,null,null,null,null);const mr=hr.exports,{Node:br}=Statamic.$bard.tiptap.core,yr=br.create({name:"BardManagement",addCommands(){return{refactorHTMLWithAi:e=>async t=>{const n=e.text;try{return(await N.post("/cp/promptHtmlrefactor",{text:n,prompt:e.refactorPrompt})).data.content}catch(r){return console.error("Error refactoring combined content:",r),n}},WriteInBard:e=>async t=>{const n=t.editor.view.dom;Array.isArray(e)?e.forEach((r,s)=>{n.childNodes[s]&&(n.childNodes[s].innerHTML=r)}):n.innerHTML=e},getBardContent:()=>({editor:e})=>e.getHTML()}}});Statamic.booting(()=>{Statamic.$components.register("ai_textarea-fieldtype",tr),Statamic.$components.register("ai_text-fieldtype",or),Statamic.$bard.addExtension(()=>yr),Statamic.$bard.buttons(e=>{e.push({name:"BardManagement",text:"AI assistant",component:ur}),Statamic.$config.get("translationsActiv")&&e.push({name:"BardManagement",text:"AI translate",component:mr})})});
